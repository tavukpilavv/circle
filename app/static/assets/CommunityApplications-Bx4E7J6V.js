import{_ as B,r as v,c as b,s as p,x as I,k as n,d as a,o,g as t,l as c,F as N,j as V,e as D,m as d,t as f,h as u,B as E,D as F,E as g}from"./index-D5FFDUbL.js";const M={class:"community-applications"},P={key:0,class:"loading-state"},S={key:1,class:"empty-state"},U={key:2,class:"applications-list"},j={class:"card-content"},q={class:"info-section"},L={class:"contact"},T=["href"],$={class:"actions-section"},z={__name:"CommunityApplications",setup(G){const l=v(!0),i=v(null),_=localStorage.getItem("user_id")||1,m=b(()=>p.pendingApplications),y=async()=>{l.value=!0,await p.fetchPendingApplications(_),l.value=!1},k=async r=>{i.value=r;const e=await p.approveApplication(r,_);e.success?g.success("Application approved successfully"):g.error("Failed to approve application: "+(e.message||"Unknown error")),i.value=null};return I(()=>{y()}),(r,e)=>{const h=n("el-skeleton"),A=n("el-empty"),C=n("el-icon"),w=n("el-button"),x=n("el-card");return o(),a("div",M,[e[3]||(e[3]=t("div",{class:"header"},[t("h1",null,"Community Applications"),t("p",null,"Manage pending community creation requests.")],-1)),l.value?(o(),a("div",P,[c(h,{rows:5,animated:""})])):m.value.length===0?(o(),a("div",S,[c(A,{description:"No pending applications found"})])):(o(),a("div",U,[(o(!0),a(N,null,V(m.value,s=>(o(),D(x,{key:s.id,class:"application-card",shadow:"hover"},{default:d(()=>[t("div",j,[t("div",q,[t("h3",null,f(s.name),1),t("p",L,[e[0]||(e[0]=t("strong",null,"Contact Person:",-1)),u(" "+f(s.contact_person),1)]),t("a",{href:s.proof_document,target:"_blank",class:"document-link"},[c(C,null,{default:d(()=>[c(E(F))]),_:1}),e[1]||(e[1]=u(" View Proof Document ",-1))],8,T)]),t("div",$,[c(w,{type:"success",onClick:H=>k(s.id),loading:i.value===s.id},{default:d(()=>[...e[2]||(e[2]=[u(" Approve ",-1)])]),_:1},8,["onClick","loading"])])])]),_:2},1024))),128))]))])}}},K=B(z,[["__scopeId","data-v-8bf321ca"]]);export{K as default};
